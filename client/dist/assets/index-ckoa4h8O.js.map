{"version":3,"file":"index-ckoa4h8O.js","sources":["../../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../../node_modules/react/jsx-runtime.js","../../../node_modules/react-dom/client.js","../../src/pages/Lobby.tsx","../../src/game/GameScene.ts","../../src/pages/Game.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import { useState, useEffect, useCallback, useRef } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { io, Socket } from 'socket.io-client'\n\ninterface Player {\n  id: string\n  name: string\n  color: string\n  abilityType: string\n}\n\ninterface RoomState {\n  roomId: string\n  players: Player[]\n  gamePhase: string\n}\n\ninterface AvailableRoom {\n  roomId: string\n  playerCount: number\n  maxPlayers: number\n  gamePhase?: string\n  canJoin?: boolean\n}\n\nconst ABILITY_INFO: Record<string, { icon: string; name: string; description: string }> = {\n  dash: { icon: '‚ö°', name: 'Dash', description: 'Quick dash in any direction' },\n  heal: { icon: 'üíö', name: 'Heal', description: 'Restore health instantly' },\n  shield: { icon: 'üõ°Ô∏è', name: 'Shield', description: 'Temporary damage reduction' },\n  scan: { icon: 'üëÅÔ∏è', name: 'Scan', description: 'Reveal all players and nexuses' },\n}\n\nconst SERVER_URL = import.meta.env.VITE_SERVER_URL || 'http://localhost:3001'\n\nconst Lobby = () => {\n  const [socket, setSocket] = useState<Socket | null>(null)\n  const [playerName, setPlayerName] = useState(localStorage.getItem('playerName') || '')\n  const [roomId, setRoomId] = useState('')\n  const [roomState, setRoomState] = useState<RoomState | null>(null)\n  const [isConnecting, setIsConnecting] = useState(false)\n  const [connectionStatus, setConnectionStatus] = useState<'disconnected' | 'connecting' | 'connected'>('disconnected')\n  const [error, setError] = useState('')\n  const [availableRooms, setAvailableRooms] = useState<AvailableRoom[]>([])\n  const [showTutorial, setShowTutorial] = useState(false)\n  const [serverStats, setServerStats] = useState<{ rooms: number; totalPlayers: number } | null>(null)\n  const reconnectAttempts = useRef(0)\n  const maxReconnectAttempts = 5\n  const navigate = useNavigate()\n\n  const fetchServerStats = useCallback(async () => {\n    try {\n      const response = await fetch(`${SERVER_URL}/health`)\n      const data = await response.json()\n      setServerStats({ rooms: data.rooms, totalPlayers: data.totalPlayers || 0 })\n    } catch (e) {\n      // Ignore\n    }\n  }, [])\n\n  useEffect(() => {\n    setConnectionStatus('connecting')\n    \n    const newSocket = io(SERVER_URL, {\n      transports: ['websocket', 'polling'],\n      timeout: 10000,\n      reconnection: true,\n      reconnectionAttempts: maxReconnectAttempts,\n      reconnectionDelay: 1000,\n      reconnectionDelayMax: 5000,\n    })\n    setSocket(newSocket)\n\n    newSocket.on('connect', () => {\n      console.log('Connected to server')\n      setConnectionStatus('connected')\n      setError('')\n      reconnectAttempts.current = 0\n      fetchAvailableRooms()\n      fetchServerStats()\n    })\n\n    newSocket.on('joined-room', (data) => {\n      setRoomState({\n        roomId: data.roomId,\n        players: Object.values(data.gameState.players),\n        gamePhase: data.gameState.gamePhase\n      })\n      setIsConnecting(false)\n    })\n\n    newSocket.on('room-full', () => {\n      setError('Room is full (max 10 players)')\n      setIsConnecting(false)\n    })\n\n    newSocket.on('game-event', (event) => {\n      if (event.type === 'player-joined' || event.type === 'player-left') {\n        // Handled by game-state-update\n      } else if (event.type === 'game-started') {\n        if (roomState && socket) {\n          navigate(`/game/${roomState.roomId}`, { \n            state: { socket: socket, playerName: localStorage.getItem('playerName') } \n          })\n        }\n      }\n    })\n\n    newSocket.on('game-state-update', (gameState) => {\n      if (roomState) {\n        const wasWaiting = roomState.gamePhase === 'waiting'\n        const isNowStarted = gameState.gamePhase !== 'waiting'\n        \n        setRoomState({\n          ...roomState,\n          players: Object.values(gameState.players),\n          gamePhase: gameState.gamePhase\n        })\n        \n        if (wasWaiting && isNowStarted && socket) {\n          navigate(`/game/${roomState.roomId}`, { \n            state: { socket: socket, playerName: localStorage.getItem('playerName') } \n          })\n        }\n      }\n    })\n\n    newSocket.on('quick-match-found', (data) => {\n      setIsConnecting(false)\n      if (data.roomId) {\n        newSocket.emit('join-room', { \n          roomId: data.roomId, \n          playerName: localStorage.getItem('playerName') \n        })\n      }\n    })\n\n    newSocket.on('disconnect', (reason) => {\n      console.log('Disconnected:', reason)\n      setConnectionStatus('disconnected')\n      setRoomState(null)\n      setIsConnecting(false)\n      if (reason === 'io server disconnect') {\n        // Server disconnected, try to reconnect\n        newSocket.connect()\n      }\n    })\n\n    newSocket.on('connect_error', (err) => {\n      console.error('Connection error:', err)\n      reconnectAttempts.current++\n      setConnectionStatus('disconnected')\n      if (reconnectAttempts.current >= maxReconnectAttempts) {\n        setError(`Unable to connect to server. Please check your connection and try again.`)\n      } else {\n        setError(`Connecting to server... (attempt ${reconnectAttempts.current}/${maxReconnectAttempts})`)\n      }\n      setIsConnecting(false)\n    })\n\n    newSocket.on('reconnect', (attemptNumber) => {\n      console.log('Reconnected after', attemptNumber, 'attempts')\n      setConnectionStatus('connected')\n      setError('')\n    })\n\n    // Fetch available rooms periodically\n    const interval = setInterval(() => {\n      fetchAvailableRooms()\n      fetchServerStats()\n    }, 5000)\n\n    return () => {\n      newSocket.close()\n      clearInterval(interval)\n    }\n  }, [navigate, fetchServerStats])\n\n  const fetchAvailableRooms = useCallback(async () => {\n    try {\n      const response = await fetch(`${SERVER_URL}/rooms`)\n      const data = await response.json()\n      setAvailableRooms(data.rooms || [])\n    } catch (e) {\n      // Ignore fetch errors\n    }\n  }, [])\n\n  const handleCreateRoom = () => {\n    if (!playerName.trim()) {\n      setError('Please enter your name')\n      return\n    }\n\n    setIsConnecting(true)\n    setError('')\n    localStorage.setItem('playerName', playerName.trim())\n    socket?.emit('join-room', { playerName: playerName.trim() })\n  }\n\n  const handleJoinRoom = (targetRoomId?: string) => {\n    if (!playerName.trim()) {\n      setError('Please enter your name')\n      return\n    }\n\n    const joinRoomId = targetRoomId || roomId.trim().toUpperCase()\n    if (!joinRoomId) {\n      setError('Please enter a room ID')\n      return\n    }\n\n    setIsConnecting(true)\n    setError('')\n    localStorage.setItem('playerName', playerName.trim())\n    socket?.emit('join-room', { \n      roomId: joinRoomId, \n      playerName: playerName.trim() \n    })\n  }\n\n  const handleQuickMatch = async () => {\n    if (!playerName.trim()) {\n      setError('Please enter your name')\n      return\n    }\n\n    setIsConnecting(true)\n    setError('')\n    localStorage.setItem('playerName', playerName.trim())\n    \n    try {\n      // Use the quickjoin API endpoint for best room selection\n      const response = await fetch(`${SERVER_URL}/quickjoin`)\n      const data = await response.json()\n      \n      if (data.roomId) {\n        socket?.emit('join-room', { \n          roomId: data.roomId, \n          playerName: playerName.trim() \n        })\n      } else {\n        // Fallback to socket-based quick match\n        socket?.emit('quick-match', { playerName: playerName.trim() })\n      }\n    } catch (e) {\n      // Fallback: check available rooms or create new\n      if (availableRooms.length > 0) {\n        const bestRoom = availableRooms.find(r => r.playerCount < 6 && r.canJoin !== false) || availableRooms[0]\n        socket?.emit('join-room', { \n          roomId: bestRoom.roomId, \n          playerName: playerName.trim() \n        })\n      } else {\n        // Create new room\n        socket?.emit('join-room', { playerName: playerName.trim() })\n      }\n    }\n  }\n\n  const handleLeaveRoom = () => {\n    socket?.disconnect()\n    socket?.connect()\n    setRoomState(null)\n  }\n\n  const copyRoomId = () => {\n    if (roomState) {\n      navigator.clipboard.writeText(roomState.roomId)\n    }\n  }\n\n  if (roomState) {\n    return (\n      <div className=\"lobby-container\">\n        <div className=\"lobby-card\" style={{ maxWidth: '500px' }}>\n          <h1>üéÆ Nexus Wars</h1>\n          \n          <div className=\"room-info\">\n            <h2>Room: {roomState.roomId}</h2>\n            <button className=\"btn btn-secondary\" onClick={copyRoomId} style={{ marginBottom: '10px' }}>\n              üìã Copy Room ID\n            </button>\n            <p style={{ opacity: 0.7 }}>Share this code with friends!</p>\n          </div>\n\n          <div className=\"room-info\">\n            <h3>Players ({roomState.players.length}/10)</h3>\n            <div style={{ display: 'grid', gap: '8px' }}>\n              {roomState.players.map((player) => {\n                const ability = ABILITY_INFO[player.abilityType] || ABILITY_INFO.dash\n                return (\n                  <div key={player.id} className=\"player-item\" style={{ \n                    display: 'flex', \n                    alignItems: 'center', \n                    gap: '10px',\n                    background: 'rgba(255,255,255,0.1)',\n                    padding: '8px 12px',\n                    borderRadius: '8px'\n                  }}>\n                    <div \n                      className=\"player-color\" \n                      style={{ backgroundColor: player.color, width: '24px', height: '24px', borderRadius: '50%' }}\n                    />\n                    <span style={{ flex: 1 }}>{player.name}</span>\n                    <span title={ability.description} style={{ cursor: 'help' }}>\n                      {ability.icon} {ability.name}\n                    </span>\n                  </div>\n                )\n              })}\n            </div>\n          </div>\n\n          <div className=\"room-info\" style={{ \n            background: roomState.players.length >= 2 ? 'rgba(39, 174, 96, 0.2)' : 'rgba(255, 255, 255, 0.1)',\n            padding: '15px',\n            borderRadius: '8px',\n            border: roomState.players.length >= 2 ? '2px solid #27ae60' : '2px solid transparent'\n          }}>\n            <h3 style={{ margin: 0 }}>\n              {roomState.gamePhase === 'waiting' \n                ? roomState.players.length >= 2 \n                  ? '‚úÖ Ready to start!'\n                  : '‚è≥ Waiting for players...'\n                : 'üéÆ Game in progress'\n              }\n            </h3>\n            {roomState.players.length < 2 && (\n              <p style={{ margin: '10px 0 0', opacity: 0.7 }}>Need at least 2 players</p>\n            )}\n          </div>\n\n          <button className=\"btn\" onClick={handleLeaveRoom} style={{ marginTop: '10px' }}>\n            üö™ Leave Room\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"lobby-container\">\n      <div className=\"lobby-card\" style={{ maxWidth: '600px' }}>\n        <h1 style={{ fontSize: '2.5rem', marginBottom: '5px' }}>üéÆ Nexus Wars</h1>\n        <p style={{ opacity: 0.8, marginBottom: '10px' }}>Fast-paced 2D multiplayer strategy</p>\n        \n        {/* Connection Status */}\n        <div style={{ \n          display: 'flex', \n          alignItems: 'center', \n          justifyContent: 'center',\n          gap: '8px',\n          marginBottom: '15px',\n          fontSize: '13px'\n        }}>\n          <div style={{\n            width: '10px',\n            height: '10px',\n            borderRadius: '50%',\n            background: connectionStatus === 'connected' ? '#27ae60' : \n                       connectionStatus === 'connecting' ? '#f39c12' : '#e74c3c',\n            boxShadow: connectionStatus === 'connected' ? '0 0 10px #27ae60' : 'none'\n          }} />\n          <span style={{ opacity: 0.7 }}>\n            {connectionStatus === 'connected' ? 'Connected' : \n             connectionStatus === 'connecting' ? 'Connecting...' : 'Disconnected'}\n          </span>\n          {serverStats && connectionStatus === 'connected' && (\n            <span style={{ opacity: 0.5, marginLeft: '10px' }}>\n              ‚Ä¢ {serverStats.totalPlayers} players online ‚Ä¢ {serverStats.rooms} rooms\n            </span>\n          )}\n        </div>\n\n        {error && (\n          <div style={{ \n            background: error.includes('Connecting') ? 'rgba(243, 156, 18, 0.2)' : 'rgba(231, 76, 60, 0.2)', \n            padding: '12px', \n            borderRadius: '8px', \n            marginBottom: '15px',\n            border: `1px solid ${error.includes('Connecting') ? 'rgba(243, 156, 18, 0.5)' : 'rgba(231, 76, 60, 0.5)'}`\n          }}>\n            {error.includes('Connecting') ? 'üîÑ' : '‚ö†Ô∏è'} {error}\n          </div>\n        )}\n\n        <div className=\"input-group\">\n          <label htmlFor=\"playerName\">Your Name</label>\n          <input\n            id=\"playerName\"\n            type=\"text\"\n            value={playerName}\n            onChange={(e) => setPlayerName(e.target.value)}\n            placeholder=\"Enter your player name\"\n            maxLength={15}\n            disabled={isConnecting}\n            style={{ fontSize: '16px', padding: '12px' }}\n          />\n        </div>\n\n        {/* Quick Match - Primary CTA */}\n        <button \n          className=\"btn\" \n          onClick={handleQuickMatch}\n          disabled={isConnecting || !playerName.trim() || connectionStatus !== 'connected'}\n          style={{ \n            fontSize: '18px', \n            padding: '15px 30px',\n            background: connectionStatus === 'connected' \n              ? 'linear-gradient(135deg, #27ae60, #2ecc71)'\n              : 'linear-gradient(135deg, #7f8c8d, #95a5a6)',\n            marginBottom: '10px',\n            width: '100%'\n          }}\n        >\n          {isConnecting ? 'üîÑ Finding match...' : \n           connectionStatus !== 'connected' ? '‚è≥ Connecting...' : '‚ö° Quick Match'}\n        </button>\n\n        <div style={{ display: 'flex', gap: '10px', marginBottom: '20px' }}>\n          <button \n            className=\"btn btn-secondary\" \n            onClick={handleCreateRoom}\n            disabled={isConnecting || !playerName.trim() || connectionStatus !== 'connected'}\n            style={{ flex: 1 }}\n          >\n            {isConnecting ? 'üîÑ...' : 'üÜï Create Room'}\n          </button>\n        </div>\n\n        {/* Available Rooms */}\n        {availableRooms.length > 0 && (\n          <div style={{ marginBottom: '20px' }}>\n            <h4 style={{ marginBottom: '10px' }}>üåê Active Games</h4>\n            <div style={{ display: 'grid', gap: '8px' }}>\n              {availableRooms.slice(0, 5).map(room => {\n                const phaseColors: Record<string, string> = {\n                  waiting: '#27ae60',\n                  spawn: '#3498db',\n                  expansion: '#9b59b6',\n                  conflict: '#e74c3c',\n                  pulse: '#f39c12',\n                }\n                const phaseColor = phaseColors[room.gamePhase || 'waiting'] || '#95a5a6'\n                \n                return (\n                  <div key={room.roomId} style={{\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'center',\n                    background: 'rgba(255,255,255,0.1)',\n                    padding: '10px 15px',\n                    borderRadius: '8px',\n                    borderLeft: `3px solid ${phaseColor}`\n                  }}>\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\n                      <span style={{ fontWeight: 'bold' }}>{room.roomId}</span>\n                      {room.gamePhase && (\n                        <span style={{ \n                          fontSize: '11px', \n                          padding: '2px 6px', \n                          background: `${phaseColor}33`,\n                          borderRadius: '4px',\n                          color: phaseColor\n                        }}>\n                          {room.gamePhase === 'waiting' ? '‚è≥ Waiting' : `üéÆ ${room.gamePhase}`}\n                        </span>\n                      )}\n                    </div>\n                    <span style={{ opacity: 0.7, fontSize: '14px' }}>{room.playerCount}/{room.maxPlayers}</span>\n                    <button \n                      className=\"btn btn-secondary\"\n                      onClick={() => handleJoinRoom(room.roomId)}\n                      disabled={isConnecting || connectionStatus !== 'connected' || room.canJoin === false}\n                      style={{ padding: '5px 15px', fontSize: '14px' }}\n                    >\n                      Join\n                    </button>\n                  </div>\n                )\n              })}\n            </div>\n          </div>\n        )}\n\n        <div style={{ display: 'flex', alignItems: 'center', margin: '15px 0', opacity: 0.5 }}>\n          <hr style={{ flex: 1, border: '1px solid rgba(255,255,255,0.3)' }} />\n          <span style={{ padding: '0 15px' }}>OR JOIN BY CODE</span>\n          <hr style={{ flex: 1, border: '1px solid rgba(255,255,255,0.3)' }} />\n        </div>\n\n        <div style={{ display: 'flex', gap: '10px' }}>\n          <input\n            type=\"text\"\n            value={roomId}\n            onChange={(e) => setRoomId(e.target.value.toUpperCase())}\n            placeholder=\"Room code\"\n            maxLength={6}\n            disabled={isConnecting || connectionStatus !== 'connected'}\n            style={{ flex: 1, fontSize: '16px', padding: '12px', textAlign: 'center', letterSpacing: '2px' }}\n          />\n          <button \n            className=\"btn btn-secondary\" \n            onClick={() => handleJoinRoom()}\n            disabled={isConnecting || !playerName.trim() || !roomId.trim() || connectionStatus !== 'connected'}\n          >\n            Join\n          </button>\n        </div>\n\n        {/* Tutorial Toggle */}\n        <button \n          onClick={() => setShowTutorial(!showTutorial)}\n          style={{ \n            background: 'transparent', \n            border: 'none', \n            color: '#3498db', \n            cursor: 'pointer',\n            marginTop: '20px',\n            fontSize: '14px'\n          }}\n        >\n          {showTutorial ? '‚ñº Hide Tutorial' : '‚ñ∂ How to Play'}\n        </button>\n\n        {showTutorial && (\n          <div style={{ \n            textAlign: 'left', \n            marginTop: '15px', \n            padding: '20px',\n            background: 'rgba(0,0,0,0.3)',\n            borderRadius: '12px',\n            fontSize: '14px'\n          }}>\n            <h4 style={{ marginBottom: '15px' }}>üéØ Objective</h4>\n            <p style={{ marginBottom: '15px', opacity: 0.9 }}>\n              Control energy nexuses to gain influence and score. The player with the highest score when time runs out wins!\n            </p>\n            \n            <h4 style={{ marginBottom: '10px' }}>‚å®Ô∏è Controls</h4>\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '8px', marginBottom: '15px' }}>\n              <div><kbd>WASD</kbd> Move</div>\n              <div><kbd>Click</kbd> Move/Attack</div>\n              <div><kbd>E</kbd> Harvest nexus</div>\n              <div><kbd>Q</kbd> Boost nexus</div>\n              <div><kbd>Space</kbd> Deploy beacon</div>\n              <div><kbd>R</kbd> Use ability</div>\n              <div><kbd>F</kbd> Attack nearest</div>\n            </div>\n\n            <h4 style={{ marginBottom: '10px' }}>‚öîÔ∏è Special Abilities</h4>\n            <div style={{ display: 'grid', gap: '6px' }}>\n              {Object.entries(ABILITY_INFO).map(([key, info]) => (\n                <div key={key} style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>\n                  <span>{info.icon}</span>\n                  <span style={{ fontWeight: 'bold' }}>{info.name}:</span>\n                  <span style={{ opacity: 0.8 }}>{info.description}</span>\n                </div>\n              ))}\n            </div>\n\n            <h4 style={{ marginTop: '15px', marginBottom: '10px' }}>üí° Tips</h4>\n            <ul style={{ margin: 0, paddingLeft: '20px', opacity: 0.9 }}>\n              <li>Stay near nexuses to passively capture them</li>\n              <li>Combo attacks for bonus damage and score</li>\n              <li>Collect power-ups for temporary boosts</li>\n              <li>Kill streaks give bonus energy!</li>\n            </ul>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default Lobby\n","import * as Phaser from 'phaser'\nimport { Socket } from 'socket.io-client'\n\ninterface Player {\n  id: string\n  name: string\n  x: number\n  y: number\n  targetX: number\n  targetY: number\n  energy: number\n  influence: number\n  color: string\n  isAlive: boolean\n  health: number\n  maxHealth: number\n  attackPower: number\n  attackRange: number\n  kills: number\n  deaths: number\n  score: number\n  activePowerUps: any[]\n  speed: number\n  comboCount: number\n  killStreak: number\n  invincibleUntil: number\n  abilityType: string\n  abilityCooldown: number\n  lastAbilityUse: number\n}\n\ninterface Nexus {\n  id: string\n  x: number\n  y: number\n  energy: number\n  controlledBy: string | null\n  chargeLevel: number\n  contestProgress: Record<string, number>\n  isContested: boolean\n}\n\ninterface PowerUp {\n  id: string\n  type: 'speed' | 'shield' | 'damage' | 'health' | 'energy'\n  x: number\n  y: number\n  duration: number\n  effect: number\n  collected: boolean\n}\n\ninterface GameState {\n  players: Record<string, Player>\n  nexuses: Nexus[]\n  powerUps: PowerUp[]\n  gamePhase: string\n  leaderboard: Array<{\n    playerId: string\n    playerName: string\n    score: number\n    kills: number\n    deaths: number\n    killStreak: number\n    damageDealt: number\n  }>\n}\n\nexport class GameScene extends Phaser.Scene {\n  private socket!: Socket\n  private currentPlayer!: Player\n  private gameState!: GameState\n  \n  // Game objects\n  private playerSprites = new Map<string, Phaser.GameObjects.Container>()\n  private nexusSprites = new Map<string, Phaser.GameObjects.Container>()\n  private powerUpSprites = new Map<string, Phaser.GameObjects.Container>()\n  private influenceGraphics!: Phaser.GameObjects.Graphics\n  private leaderboardText!: Phaser.GameObjects.Text\n  private comboText!: Phaser.GameObjects.Text\n  private abilityIndicator!: Phaser.GameObjects.Container\n  \n  // Input\n  private cursors!: Phaser.Types.Input.Keyboard.CursorKeys\n  private wasdKeys!: Record<string, Phaser.Input.Keyboard.Key>\n  \n  // Movement\n  private targetX = 0\n  private targetY = 0\n  private isMovingToTarget = false\n\n  // Visual effects queue\n  private effectsQueue: Array<() => void> = []\n\n  constructor() {\n    super({ key: 'GameScene' })\n  }\n\n  preload() {\n    // Create particle texture programmatically\n    const graphics = this.add.graphics()\n    graphics.fillStyle(0xffffff)\n    graphics.fillCircle(4, 4, 4)\n    graphics.generateTexture('particle', 8, 8)\n    graphics.destroy()\n  }\n\n  create() {\n    // Create graphics for influence visualization\n    this.influenceGraphics = this.add.graphics()\n    \n    // Setup input\n    this.cursors = this.input.keyboard!.createCursorKeys()\n    this.wasdKeys = this.input.keyboard!.addKeys('W,S,A,D,E,Q,F,R,SPACE') as Record<string, Phaser.Input.Keyboard.Key>\n\n    // Mouse input for movement and attacks\n    this.input.on('pointerdown', (pointer: Phaser.Input.Pointer) => {\n      this.handleMouseClick(pointer.x, pointer.y)\n    })\n\n    // Keyboard actions\n    this.input.keyboard!.on('keydown-E', () => this.handleHarvest())\n    this.input.keyboard!.on('keydown-Q', () => this.handleBoostNexus())\n    this.input.keyboard!.on('keydown-SPACE', () => this.handleDeployBeacon())\n    this.input.keyboard!.on('keydown-F', () => this.handleAttackNearestPlayer())\n    this.input.keyboard!.on('keydown-R', () => this.handleUseAbility())\n\n    // Create UI elements\n    this.createUI()\n  }\n\n  private createUI() {\n    // Leaderboard\n    this.leaderboardText = this.add.text(10, 10, '', {\n      fontSize: '13px',\n      color: '#ffffff',\n      backgroundColor: 'rgba(0, 0, 0, 0.7)',\n      padding: { x: 10, y: 8 }\n    }).setScrollFactor(0).setDepth(1000)\n\n    // Combo counter\n    this.comboText = this.add.text(400, 50, '', {\n      fontSize: '24px',\n      color: '#ffff00',\n      fontStyle: 'bold',\n      stroke: '#000000',\n      strokeThickness: 4\n    }).setOrigin(0.5).setScrollFactor(0).setDepth(1001).setAlpha(0)\n\n    // Ability indicator\n    this.abilityIndicator = this.add.container(700, 550)\n    const abilityBg = this.add.circle(0, 0, 30, 0x333333, 0.8)\n    const abilityText = this.add.text(0, 0, 'R', {\n      fontSize: '20px',\n      color: '#ffffff',\n      fontStyle: 'bold'\n    }).setOrigin(0.5)\n    this.abilityIndicator.add([abilityBg, abilityText])\n    this.abilityIndicator.setScrollFactor(0).setDepth(1000)\n  }\n\n  initializeGame(socket: Socket, player: Player, gameState: GameState) {\n    this.socket = socket\n    this.currentPlayer = player\n    this.gameState = gameState\n\n    // Listen for game state updates\n    this.socket.on('game-state-update', (newGameState: GameState) => {\n      this.updateGameState(newGameState)\n    })\n\n    this.socket.on('game-event', (event) => {\n      this.handleGameEvent(event)\n    })\n\n    // Initial render\n    this.renderGameState()\n  }\n\n  update(_time: number, delta: number) {\n    if (!this.currentPlayer || !this.gameState) return\n    \n    this.handleMovement(delta)\n    this.updatePlayerPosition(delta)\n    this.updateAbilityIndicator()\n    \n    // Process visual effects\n    while (this.effectsQueue.length > 0) {\n      const effect = this.effectsQueue.shift()\n      if (effect) effect()\n    }\n  }\n\n  private handleMovement(delta: number) {\n    let velocityX = 0\n    let velocityY = 0\n\n    if (this.wasdKeys.A?.isDown || this.cursors.left?.isDown) velocityX = -1\n    else if (this.wasdKeys.D?.isDown || this.cursors.right?.isDown) velocityX = 1\n\n    if (this.wasdKeys.W?.isDown || this.cursors.up?.isDown) velocityY = -1\n    else if (this.wasdKeys.S?.isDown || this.cursors.down?.isDown) velocityY = 1\n\n    if (velocityX !== 0 || velocityY !== 0) {\n      this.isMovingToTarget = false\n      const speed = this.currentPlayer.speed * (delta / 1000)\n      \n      // Normalize diagonal movement\n      if (velocityX !== 0 && velocityY !== 0) {\n        const factor = 0.707\n        velocityX *= factor\n        velocityY *= factor\n      }\n\n      const newX = Phaser.Math.Clamp(this.currentPlayer.x + velocityX * speed, 20, 780)\n      const newY = Phaser.Math.Clamp(this.currentPlayer.y + velocityY * speed, 20, 580)\n      \n      this.sendPlayerAction('move', { x: newX, y: newY })\n    }\n  }\n\n  private handleMouseClick(x: number, y: number) {\n    // Check if clicking on another player (for attack)\n    const clickedPlayer = this.getPlayerAtPosition(x, y)\n    if (clickedPlayer && clickedPlayer.id !== this.currentPlayer.id) {\n      this.sendPlayerAction('attack', { targetId: clickedPlayer.id })\n      return\n    }\n\n    // Otherwise, move to position\n    this.targetX = x\n    this.targetY = y\n    this.isMovingToTarget = true\n    \n    // Visual feedback for target\n    this.createMoveTargetEffect(x, y)\n  }\n\n  private handleHarvest() {\n    const nearbyNexus = this.getNearbyNexus()\n    if (nearbyNexus) {\n      this.sendPlayerAction('harvest', { nexusId: nearbyNexus.id })\n      this.createHarvestEffect(nearbyNexus.x, nearbyNexus.y)\n    }\n  }\n\n  private handleBoostNexus() {\n    const nearbyNexus = this.getNearbyNexus()\n    if (nearbyNexus && nearbyNexus.controlledBy === this.currentPlayer.id) {\n      this.sendPlayerAction('boost-nexus', { nexusId: nearbyNexus.id })\n      this.createBoostEffect(nearbyNexus.x, nearbyNexus.y)\n    }\n  }\n\n  private handleDeployBeacon() {\n    if (this.currentPlayer.energy >= 25) {\n      this.sendPlayerAction('deploy-beacon', {})\n      this.createBeaconEffect(this.currentPlayer.x, this.currentPlayer.y)\n    }\n  }\n\n  private handleAttackNearestPlayer() {\n    const players = Object.values(this.gameState.players)\n    let nearestPlayerId: string | null = null\n    let nearestDistance = Infinity\n    \n    for (const player of players) {\n      if (player.id === this.currentPlayer.id || !player.isAlive) continue\n      \n      const distance = Phaser.Math.Distance.Between(\n        this.currentPlayer.x, this.currentPlayer.y,\n        player.x, player.y\n      )\n      \n      if (distance < nearestDistance && distance <= this.currentPlayer.attackRange) {\n        nearestDistance = distance\n        nearestPlayerId = player.id\n      }\n    }\n    \n    if (nearestPlayerId) {\n      this.sendPlayerAction('attack', { targetId: nearestPlayerId })\n    }\n  }\n\n  private handleUseAbility() {\n    const now = Date.now()\n    const cooldownRemaining = this.currentPlayer.lastAbilityUse + this.currentPlayer.abilityCooldown - now\n    \n    if (cooldownRemaining <= 0) {\n      this.sendPlayerAction('use-ability', { \n        abilityType: this.currentPlayer.abilityType,\n        x: this.targetX || this.currentPlayer.x,\n        y: this.targetY || this.currentPlayer.y\n      })\n    }\n  }\n\n  private updateAbilityIndicator() {\n    if (!this.currentPlayer) return\n    \n    const now = Date.now()\n    const cooldownRemaining = Math.max(0, this.currentPlayer.lastAbilityUse + this.currentPlayer.abilityCooldown - now)\n    const bg = this.abilityIndicator.list[0] as Phaser.GameObjects.Arc\n    const text = this.abilityIndicator.list[1] as Phaser.GameObjects.Text\n    \n    if (cooldownRemaining > 0) {\n      bg.fillColor = 0x666666\n      text.setText(Math.ceil(cooldownRemaining / 1000).toString())\n    } else {\n      bg.fillColor = this.getAbilityColor(this.currentPlayer.abilityType)\n      text.setText('R')\n    }\n  }\n\n  private getAbilityColor(abilityType: string): number {\n    switch (abilityType) {\n      case 'dash': return 0x00ffff\n      case 'heal': return 0x00ff00\n      case 'shield': return 0x0000ff\n      case 'scan': return 0xff00ff\n      default: return 0xffffff\n    }\n  }\n\n  private updatePlayerPosition(delta: number) {\n    if (this.isMovingToTarget) {\n      const distance = Phaser.Math.Distance.Between(\n        this.currentPlayer.x, this.currentPlayer.y,\n        this.targetX, this.targetY\n      )\n\n      if (distance < 5) {\n        this.isMovingToTarget = false\n        return\n      }\n\n      const angle = Phaser.Math.Angle.Between(\n        this.currentPlayer.x, this.currentPlayer.y,\n        this.targetX, this.targetY\n      )\n\n      const speed = this.currentPlayer.speed * (delta / 1000)\n      const newX = this.currentPlayer.x + Math.cos(angle) * speed\n      const newY = this.currentPlayer.y + Math.sin(angle) * speed\n\n      this.sendPlayerAction('move', { x: newX, y: newY })\n    }\n  }\n\n  private sendPlayerAction(type: string, data: any) {\n    this.socket.emit('player-action', {\n      type,\n      data,\n      timestamp: Date.now()\n    })\n  }\n\n  private updateGameState(newGameState: GameState) {\n    this.gameState = newGameState\n    \n    const updatedPlayer = Object.values(newGameState.players)\n      .find(p => p.id === this.currentPlayer.id)\n    if (updatedPlayer) {\n      this.currentPlayer = updatedPlayer\n    }\n\n    this.renderGameState()\n  }\n\n  private renderGameState() {\n    this.renderInfluenceMap()\n    this.renderNexuses()\n    this.renderPlayers()\n    this.renderPowerUps()\n    this.renderLeaderboard()\n  }\n\n  private renderInfluenceMap() {\n    this.influenceGraphics.clear()\n    \n    const players = Object.values(this.gameState.players)\n    players.forEach(player => {\n      if (player.influence > 0) {\n        const radius = Math.min(player.influence * 1.5, 80)\n        const color = Phaser.Display.Color.HexStringToColor(player.color).color\n        this.influenceGraphics.fillStyle(color, 0.08)\n        this.influenceGraphics.fillCircle(player.x, player.y, radius)\n      }\n    })\n\n    // Draw nexus influence zones\n    this.gameState.nexuses.forEach(nexus => {\n      if (nexus.controlledBy) {\n        const player = this.gameState.players[nexus.controlledBy]\n        if (player) {\n          const color = Phaser.Display.Color.HexStringToColor(player.color).color\n          this.influenceGraphics.lineStyle(2, color, 0.3)\n          this.influenceGraphics.strokeCircle(nexus.x, nexus.y, 70)\n        }\n      }\n    })\n  }\n\n  private renderNexuses() {\n    this.gameState.nexuses.forEach(nexus => {\n      let container = this.nexusSprites.get(nexus.id)\n      \n      if (!container) {\n        container = this.createNexusSprite(nexus)\n        this.nexusSprites.set(nexus.id, container)\n      }\n\n      this.updateNexusSprite(container, nexus)\n    })\n  }\n\n  private createNexusSprite(nexus: Nexus): Phaser.GameObjects.Container {\n    const container = this.add.container(nexus.x, nexus.y)\n    \n    // Outer glow\n    const glow = this.add.circle(0, 0, 35, 0x3498db, 0.3)\n    \n    // Nexus base\n    const base = this.add.circle(0, 0, 25, 0x3498db)\n    base.setStrokeStyle(3, 0x2980b9)\n    \n    // Inner core\n    const core = this.add.circle(0, 0, 10, 0xffffff, 0.8)\n    \n    // Energy bar background\n    const energyBg = this.add.rectangle(0, -40, 50, 8, 0x2c3e50)\n    energyBg.setStrokeStyle(1, 0x34495e)\n    \n    // Energy bar fill\n    const energyFill = this.add.rectangle(-25, -40, 0, 6, 0x27ae60)\n    energyFill.setOrigin(0, 0.5)\n    \n    // Contest bar (shows capture progress)\n    const contestBg = this.add.rectangle(0, -50, 50, 4, 0x1a1a2e)\n    const contestFill = this.add.rectangle(-25, -50, 0, 4, 0xf39c12)\n    contestFill.setOrigin(0, 0.5)\n    \n    // Charge level indicators\n    const chargeDots: Phaser.GameObjects.Arc[] = []\n    for (let i = 0; i < 5; i++) {\n      const dot = this.add.circle(-20 + i * 10, 40, 4, 0x95a5a6)\n      chargeDots.push(dot)\n    }\n    \n    // Contested indicator\n    const contestedText = this.add.text(0, -60, '‚öîÔ∏è', {\n      fontSize: '16px'\n    }).setOrigin(0.5).setVisible(false)\n    \n    container.add([glow, base, core, energyBg, energyFill, contestBg, contestFill, ...chargeDots, contestedText])\n    container.setData('glow', glow)\n    container.setData('base', base)\n    container.setData('core', core)\n    container.setData('energyFill', energyFill)\n    container.setData('contestFill', contestFill)\n    container.setData('chargeDots', chargeDots)\n    container.setData('contestedText', contestedText)\n    \n    return container\n  }\n\n  private updateNexusSprite(container: Phaser.GameObjects.Container, nexus: Nexus) {\n    const base = container.getData('base') as Phaser.GameObjects.Arc\n    const glow = container.getData('glow') as Phaser.GameObjects.Arc\n    const energyFill = container.getData('energyFill') as Phaser.GameObjects.Rectangle\n    const contestFill = container.getData('contestFill') as Phaser.GameObjects.Rectangle\n    const chargeDots = container.getData('chargeDots') as Phaser.GameObjects.Arc[]\n    const contestedText = container.getData('contestedText') as Phaser.GameObjects.Text\n    \n    // Update energy bar\n    energyFill.width = (nexus.energy / 100) * 48\n    \n    // Update charge level\n    chargeDots.forEach((dot, index) => {\n      dot.fillColor = index < nexus.chargeLevel ? 0xf39c12 : 0x95a5a6\n    })\n\n    // Update control color\n    if (nexus.controlledBy) {\n      const controllingPlayer = this.gameState.players[nexus.controlledBy]\n      if (controllingPlayer) {\n        const color = Phaser.Display.Color.HexStringToColor(controllingPlayer.color).color\n        base.fillColor = color\n        glow.fillColor = color\n      }\n    } else {\n      base.fillColor = 0x3498db\n      glow.fillColor = 0x3498db\n    }\n\n    // Update contest progress for current player\n    const myProgress = nexus.contestProgress[this.currentPlayer?.id] || 0\n    contestFill.width = (myProgress / 100) * 48\n    \n    // Show contested indicator\n    contestedText.setVisible(nexus.isContested)\n  }\n\n  private renderPlayers() {\n    const players = Object.values(this.gameState.players)\n    \n    players.forEach(player => {\n      let container = this.playerSprites.get(player.id)\n      \n      if (!container) {\n        container = this.createPlayerSprite(player)\n        this.playerSprites.set(player.id, container)\n      }\n\n      this.updatePlayerSprite(container, player)\n    })\n\n    // Remove sprites for disconnected players\n    this.playerSprites.forEach((container, playerId) => {\n      if (!players.find(p => p.id === playerId)) {\n        container.destroy()\n        this.playerSprites.delete(playerId)\n      }\n    })\n  }\n\n  private createPlayerSprite(player: Player): Phaser.GameObjects.Container {\n    const container = this.add.container(player.x, player.y)\n    \n    // Shadow\n    const shadow = this.add.ellipse(2, 3, 22, 10, 0x000000, 0.3)\n    \n    // Player body\n    const color = Phaser.Display.Color.HexStringToColor(player.color).color\n    const body = this.add.circle(0, 0, 12, color)\n    body.setStrokeStyle(2, 0xffffff)\n    \n    // Direction indicator\n    const direction = this.add.triangle(15, 0, 0, -5, 0, 5, 8, 0, color)\n    direction.setAlpha(0.8)\n    \n    // Health bar background\n    const healthBg = this.add.rectangle(0, -22, 30, 5, 0xff0000)\n    \n    // Health bar fill\n    const healthFill = this.add.rectangle(-15, -22, 30, 5, 0x00ff00)\n    healthFill.setOrigin(0, 0.5)\n    \n    // Player name\n    const nameText = this.add.text(0, -32, player.name, {\n      fontSize: '11px',\n      color: '#ffffff',\n      stroke: '#000000',\n      strokeThickness: 2\n    }).setOrigin(0.5)\n    \n    // Kill streak badge\n    const killStreakBadge = this.add.text(0, 18, '', {\n      fontSize: '10px',\n      color: '#ff0000',\n      fontStyle: 'bold'\n    }).setOrigin(0.5).setVisible(false)\n    \n    // Invincibility indicator\n    const invincibleRing = this.add.circle(0, 0, 18, 0xffffff, 0)\n    invincibleRing.setStrokeStyle(3, 0xffffff, 0.5)\n    invincibleRing.setVisible(false)\n    \n    container.add([shadow, body, direction, healthBg, healthFill, nameText, killStreakBadge, invincibleRing])\n    container.setData('body', body)\n    container.setData('direction', direction)\n    container.setData('healthFill', healthFill)\n    container.setData('nameText', nameText)\n    container.setData('killStreakBadge', killStreakBadge)\n    container.setData('invincibleRing', invincibleRing)\n    \n    return container\n  }\n\n  private updatePlayerSprite(container: Phaser.GameObjects.Container, player: Player) {\n    // Smooth position interpolation\n    const lerpFactor = 0.3\n    container.x = Phaser.Math.Linear(container.x, player.x, lerpFactor)\n    container.y = Phaser.Math.Linear(container.y, player.y, lerpFactor)\n    \n    const healthFill = container.getData('healthFill') as Phaser.GameObjects.Rectangle\n    const killStreakBadge = container.getData('killStreakBadge') as Phaser.GameObjects.Text\n    const invincibleRing = container.getData('invincibleRing') as Phaser.GameObjects.Arc\n    const body = container.getData('body') as Phaser.GameObjects.Arc\n    \n    // Update health bar\n    const healthPercent = player.health / player.maxHealth\n    healthFill.width = 30 * healthPercent\n    healthFill.fillColor = healthPercent > 0.5 ? 0x00ff00 : healthPercent > 0.25 ? 0xffff00 : 0xff0000\n    \n    // Update kill streak badge\n    if (player.killStreak >= 3) {\n      killStreakBadge.setText(`üî•${player.killStreak}`)\n      killStreakBadge.setVisible(true)\n    } else {\n      killStreakBadge.setVisible(false)\n    }\n    \n    // Update invincibility\n    const isInvincible = Date.now() < player.invincibleUntil\n    invincibleRing.setVisible(isInvincible)\n    if (isInvincible) {\n      invincibleRing.alpha = 0.5 + Math.sin(Date.now() / 100) * 0.3\n    }\n    \n    // Highlight current player\n    if (player.id === this.currentPlayer?.id) {\n      body.setStrokeStyle(3, 0xffffff)\n      container.setScale(1.1)\n    } else {\n      body.setStrokeStyle(2, 0xffffff)\n      container.setScale(1)\n    }\n    \n    // Fade dead players\n    container.setAlpha(player.isAlive ? 1 : 0.3)\n  }\n\n  private renderPowerUps() {\n    if (!this.gameState.powerUps) return\n    \n    this.gameState.powerUps.forEach(powerUp => {\n      if (powerUp.collected) return\n      \n      let container = this.powerUpSprites.get(powerUp.id)\n      \n      if (!container) {\n        container = this.createPowerUpSprite(powerUp)\n        this.powerUpSprites.set(powerUp.id, container)\n      }\n    })\n    \n    // Remove collected power-ups\n    this.powerUpSprites.forEach((container, powerUpId) => {\n      const powerUp = this.gameState.powerUps?.find(p => p.id === powerUpId)\n      if (!powerUp || powerUp.collected) {\n        container.destroy()\n        this.powerUpSprites.delete(powerUpId)\n      }\n    })\n  }\n\n  private createPowerUpSprite(powerUp: PowerUp): Phaser.GameObjects.Container {\n    const container = this.add.container(powerUp.x, powerUp.y)\n    const color = this.getPowerUpColor(powerUp.type)\n    \n    // Glow effect\n    const glow = this.add.circle(0, 0, 18, color, 0.3)\n    \n    // Main shape\n    const shape = this.add.circle(0, 0, 12, color)\n    shape.setStrokeStyle(2, 0xffffff)\n    \n    // Icon\n    const icon = this.add.text(0, 0, this.getPowerUpIcon(powerUp.type), {\n      fontSize: '14px'\n    }).setOrigin(0.5)\n    \n    container.add([glow, shape, icon])\n    \n    // Pulsing animation\n    this.tweens.add({\n      targets: container,\n      scaleX: 1.15,\n      scaleY: 1.15,\n      duration: 800,\n      yoyo: true,\n      repeat: -1,\n      ease: 'Sine.easeInOut'\n    })\n    \n    // Float animation\n    this.tweens.add({\n      targets: container,\n      y: powerUp.y - 5,\n      duration: 1200,\n      yoyo: true,\n      repeat: -1,\n      ease: 'Sine.easeInOut'\n    })\n    \n    return container\n  }\n\n  private getPowerUpColor(type: string): number {\n    switch (type) {\n      case 'speed': return 0x00ffff\n      case 'shield': return 0x3498db\n      case 'damage': return 0xff4444\n      case 'health': return 0x00ff00\n      case 'energy': return 0xf1c40f\n      default: return 0xffffff\n    }\n  }\n\n  private getPowerUpIcon(type: string): string {\n    switch (type) {\n      case 'speed': return '‚ö°'\n      case 'shield': return 'üõ°Ô∏è'\n      case 'damage': return '‚öîÔ∏è'\n      case 'health': return '‚ù§Ô∏è'\n      case 'energy': return '‚ú®'\n      default: return '?'\n    }\n  }\n\n  private getNearbyNexus(): Nexus | null {\n    return this.gameState.nexuses.find(nexus => {\n      const distance = Phaser.Math.Distance.Between(\n        this.currentPlayer.x, this.currentPlayer.y,\n        nexus.x, nexus.y\n      )\n      return distance < 60\n    }) || null\n  }\n\n  private getPlayerAtPosition(x: number, y: number): Player | null {\n    return Object.values(this.gameState.players).find(player => {\n      const distance = Phaser.Math.Distance.Between(player.x, player.y, x, y)\n      return distance < 25 && player.isAlive\n    }) || null\n  }\n\n  private handleGameEvent(event: any) {\n    switch (event.type) {\n      case 'nexus-captured':\n        this.effectsQueue.push(() => this.createCaptureEffect(event.data.nexusId))\n        this.showNotification(`${event.data.playerName} captured a nexus!`, 0xffd700)\n        break\n      case 'energy-pulse':\n        this.effectsQueue.push(() => this.createPulseEffect())\n        break\n      case 'player-attacked':\n        this.effectsQueue.push(() => this.handlePlayerAttackedEvent(event.data))\n        break\n      case 'player-killed':\n        this.effectsQueue.push(() => this.handlePlayerKilledEvent(event.data))\n        break\n      case 'player-respawned':\n        this.effectsQueue.push(() => this.createRespawnEffect(event.data.x, event.data.y))\n        break\n      case 'powerup-collected':\n        this.effectsQueue.push(() => this.handlePowerUpCollectedEvent(event.data))\n        break\n      case 'beacon-deployed':\n        this.effectsQueue.push(() => this.createBeaconEffect(event.data.x, event.data.y))\n        break\n      case 'ability-used':\n        this.effectsQueue.push(() => this.handleAbilityUsedEvent(event.data))\n        break\n      case 'achievement-unlocked':\n        this.showAchievement(event.data.achievement)\n        break\n    }\n  }\n\n  private handlePlayerAttackedEvent(data: any) {\n    const attacker = this.gameState.players[data.attackerId]\n    const target = this.gameState.players[data.targetId]\n    \n    if (attacker && target) {\n      this.createAttackEffect(attacker.x, attacker.y, target.x, target.y)\n      \n      // Damage number\n      const damageText = this.add.text(target.x, target.y - 20, `-${data.damage}`, {\n        fontSize: '18px',\n        color: '#ff4444',\n        fontStyle: 'bold',\n        stroke: '#000000',\n        strokeThickness: 3\n      }).setOrigin(0.5)\n      \n      this.tweens.add({\n        targets: damageText,\n        y: target.y - 50,\n        alpha: 0,\n        scale: 1.3,\n        duration: 800,\n        ease: 'Power2',\n        onComplete: () => damageText.destroy()\n      })\n\n      // Show combo text for current player\n      if (data.attackerId === this.currentPlayer?.id && data.comboCount > 1) {\n        this.showCombo(data.comboCount)\n      }\n    }\n  }\n\n  private handlePlayerKilledEvent(data: any) {\n    const victim = this.gameState.players[data.victimId]\n    \n    if (victim) {\n      this.createDeathEffect(victim.x, victim.y)\n      \n      // Kill notification\n      const killText = this.add.text(400, 100, \n        `üíÄ ${data.killerName} eliminated ${data.victimName}!`, {\n        fontSize: '16px',\n        color: '#ff4444',\n        backgroundColor: 'rgba(0, 0, 0, 0.8)',\n        padding: { x: 15, y: 8 }\n      }).setOrigin(0.5).setDepth(2000)\n      \n      this.tweens.add({\n        targets: killText,\n        y: 80,\n        alpha: 0,\n        duration: 2500,\n        ease: 'Power2',\n        onComplete: () => killText.destroy()\n      })\n\n      // Kill streak notification\n      if (data.killStreak >= 3) {\n        this.showAchievement(`${data.killerName}: ${data.killStreak} Kill Streak! üî•`)\n      }\n    }\n  }\n\n  private handlePowerUpCollectedEvent(data: any) {\n    const player = this.gameState.players[data.playerId]\n    if (player) {\n      const color = this.getPowerUpColor(data.powerUpType)\n      this.createCollectionEffect(player.x, player.y, color)\n      \n      if (data.playerId === this.currentPlayer?.id) {\n        this.showNotification(`+${data.powerUpType.toUpperCase()}!`, color)\n      }\n    }\n  }\n\n  private handleAbilityUsedEvent(data: any) {\n    switch (data.ability) {\n      case 'dash':\n        this.createDashEffect(data.x, data.y)\n        break\n      case 'heal':\n        const player = this.gameState.players[data.playerId]\n        if (player) this.createHealEffect(player.x, player.y)\n        break\n      case 'shield':\n        const shieldPlayer = this.gameState.players[data.playerId]\n        if (shieldPlayer) this.createShieldEffect(shieldPlayer.x, shieldPlayer.y)\n        break\n      case 'scan':\n        this.createScanEffect()\n        break\n    }\n  }\n\n  // Visual Effects\n  private createMoveTargetEffect(x: number, y: number) {\n    const ring = this.add.circle(x, y, 10, 0xffffff, 0)\n    ring.setStrokeStyle(2, 0xffffff, 0.8)\n    \n    this.tweens.add({\n      targets: ring,\n      scaleX: 2,\n      scaleY: 2,\n      alpha: 0,\n      duration: 400,\n      onComplete: () => ring.destroy()\n    })\n  }\n\n  private createHarvestEffect(x: number, y: number) {\n    for (let i = 0; i < 8; i++) {\n      const angle = (i / 8) * Math.PI * 2\n      const particle = this.add.circle(x, y, 4, 0x27ae60)\n      \n      this.tweens.add({\n        targets: particle,\n        x: x + Math.cos(angle) * 40,\n        y: y + Math.sin(angle) * 40,\n        alpha: 0,\n        scale: 0,\n        duration: 500,\n        ease: 'Power2',\n        onComplete: () => particle.destroy()\n      })\n    }\n  }\n\n  private createAttackEffect(fromX: number, fromY: number, toX: number, toY: number) {\n    // Attack line\n    const line = this.add.line(0, 0, fromX, fromY, toX, toY, 0xff4444, 1)\n    line.setLineWidth(4)\n    \n    this.tweens.add({\n      targets: line,\n      alpha: 0,\n      duration: 150,\n      onComplete: () => line.destroy()\n    })\n\n    // Impact effect at target\n    const impact = this.add.circle(toX, toY, 5, 0xff4444)\n    this.tweens.add({\n      targets: impact,\n      scaleX: 3,\n      scaleY: 3,\n      alpha: 0,\n      duration: 200,\n      onComplete: () => impact.destroy()\n    })\n  }\n\n  private createBeaconEffect(x: number, y: number) {\n    const beacon = this.add.circle(x, y, 8, 0xf39c12, 0.8)\n    \n    const ring1 = this.add.circle(x, y, 8, 0xf39c12, 0)\n    ring1.setStrokeStyle(3, 0xf39c12, 0.8)\n    \n    const ring2 = this.add.circle(x, y, 8, 0xf39c12, 0)\n    ring2.setStrokeStyle(2, 0xf39c12, 0.5)\n\n    // First ring animation\n    this.tweens.add({\n      targets: ring1,\n      scaleX: 8,\n      scaleY: 8,\n      alpha: 0,\n      duration: 1500,\n      onComplete: () => ring1.destroy()\n    })\n    \n    // Second ring animation with delay\n    this.tweens.add({\n      targets: ring2,\n      scaleX: 8,\n      scaleY: 8,\n      alpha: 0,\n      duration: 1500,\n      delay: 200,\n      onComplete: () => ring2.destroy()\n    })\n\n    this.tweens.add({\n      targets: beacon,\n      alpha: 0,\n      duration: 2000,\n      onComplete: () => beacon.destroy()\n    })\n  }\n\n  private createBoostEffect(x: number, y: number) {\n    for (let i = 0; i < 12; i++) {\n      const angle = (i / 12) * Math.PI * 2\n      const particle = this.add.circle(x + Math.cos(angle) * 20, y + Math.sin(angle) * 20, 3, 0xf39c12)\n      \n      this.tweens.add({\n        targets: particle,\n        x: x,\n        y: y,\n        alpha: 0,\n        scale: 2,\n        duration: 400,\n        ease: 'Power2',\n        onComplete: () => particle.destroy()\n      })\n    }\n  }\n\n  private createCaptureEffect(nexusId: string) {\n    const nexus = this.gameState.nexuses.find(n => n.id === nexusId)\n    if (!nexus) return\n    \n    // Burst of particles\n    for (let i = 0; i < 16; i++) {\n      const angle = (i / 16) * Math.PI * 2\n      const particle = this.add.circle(nexus.x, nexus.y, 5, 0xffd700)\n      \n      this.tweens.add({\n        targets: particle,\n        x: nexus.x + Math.cos(angle) * 60,\n        y: nexus.y + Math.sin(angle) * 60,\n        alpha: 0,\n        scale: 0,\n        duration: 600,\n        ease: 'Power2',\n        onComplete: () => particle.destroy()\n      })\n    }\n\n    // Flash effect\n    const flash = this.add.circle(nexus.x, nexus.y, 30, 0xffd700, 0.8)\n    this.tweens.add({\n      targets: flash,\n      scaleX: 2,\n      scaleY: 2,\n      alpha: 0,\n      duration: 400,\n      onComplete: () => flash.destroy()\n    })\n  }\n\n  private createPulseEffect() {\n    this.gameState.nexuses.forEach(nexus => {\n      if (nexus.controlledBy) {\n        const player = this.gameState.players[nexus.controlledBy]\n        const color = player ? Phaser.Display.Color.HexStringToColor(player.color).color : 0xffd700\n        \n        for (let i = 0; i < 3; i++) {\n          const pulse = this.add.circle(nexus.x, nexus.y, 30, color, 0)\n          pulse.setStrokeStyle(4, color, 0.8)\n          \n          this.tweens.add({\n            targets: pulse,\n            scaleX: 4,\n            scaleY: 4,\n            alpha: 0,\n            duration: 1500,\n            delay: i * 300,\n            ease: 'Power2',\n            onComplete: () => pulse.destroy()\n          })\n        }\n      }\n    })\n  }\n\n  private createDeathEffect(x: number, y: number) {\n    for (let i = 0; i < 20; i++) {\n      const angle = Math.random() * Math.PI * 2\n      const speed = 30 + Math.random() * 50\n      const particle = this.add.circle(x, y, 3 + Math.random() * 3, 0xff0000)\n      \n      this.tweens.add({\n        targets: particle,\n        x: x + Math.cos(angle) * speed,\n        y: y + Math.sin(angle) * speed,\n        alpha: 0,\n        scale: 0,\n        duration: 400 + Math.random() * 200,\n        ease: 'Power2',\n        onComplete: () => particle.destroy()\n      })\n    }\n  }\n\n  private createRespawnEffect(x: number, y: number) {\n    const ring = this.add.circle(x, y, 50, 0x00ff00, 0)\n    ring.setStrokeStyle(4, 0x00ff00, 0.8)\n    \n    this.tweens.add({\n      targets: ring,\n      scaleX: 0.2,\n      scaleY: 0.2,\n      alpha: 0,\n      duration: 500,\n      ease: 'Power2',\n      onComplete: () => ring.destroy()\n    })\n  }\n\n  private createCollectionEffect(x: number, y: number, color: number) {\n    for (let i = 0; i < 8; i++) {\n      const angle = (i / 8) * Math.PI * 2\n      const particle = this.add.circle(x + Math.cos(angle) * 30, y + Math.sin(angle) * 30, 4, color)\n      \n      this.tweens.add({\n        targets: particle,\n        x: x,\n        y: y - 20,\n        alpha: 0,\n        duration: 400,\n        ease: 'Power2',\n        onComplete: () => particle.destroy()\n      })\n    }\n  }\n\n  private createDashEffect(x: number, y: number) {\n    const trail = this.add.circle(x, y, 15, 0x00ffff, 0.5)\n    this.tweens.add({\n      targets: trail,\n      alpha: 0,\n      scaleX: 2,\n      scaleY: 2,\n      duration: 300,\n      onComplete: () => trail.destroy()\n    })\n  }\n\n  private createHealEffect(x: number, y: number) {\n    const cross1 = this.add.rectangle(x, y, 6, 24, 0x00ff00)\n    const cross2 = this.add.rectangle(x, y, 24, 6, 0x00ff00)\n    \n    this.tweens.add({\n      targets: [cross1, cross2],\n      y: y - 30,\n      alpha: 0,\n      duration: 800,\n      ease: 'Power2',\n      onComplete: () => { cross1.destroy(); cross2.destroy() }\n    })\n  }\n\n  private createShieldEffect(x: number, y: number) {\n    const shield = this.add.circle(x, y, 20, 0x3498db, 0)\n    shield.setStrokeStyle(4, 0x3498db, 0.8)\n    \n    this.tweens.add({\n      targets: shield,\n      scaleX: 1.5,\n      scaleY: 1.5,\n      duration: 500,\n      yoyo: true,\n      repeat: 2,\n      onComplete: () => shield.destroy()\n    })\n  }\n\n  private createScanEffect() {\n    const scan = this.add.circle(this.currentPlayer.x, this.currentPlayer.y, 10, 0xff00ff, 0)\n    scan.setStrokeStyle(2, 0xff00ff, 0.8)\n    \n    this.tweens.add({\n      targets: scan,\n      scaleX: 50,\n      scaleY: 50,\n      alpha: 0,\n      duration: 1500,\n      ease: 'Power2',\n      onComplete: () => scan.destroy()\n    })\n  }\n\n  private showCombo(count: number) {\n    this.comboText.setText(`${count}x COMBO!`)\n    this.comboText.setAlpha(1)\n    this.comboText.setScale(0.5)\n    \n    this.tweens.add({\n      targets: this.comboText,\n      scale: 1.2,\n      duration: 200,\n      yoyo: true,\n      onComplete: () => {\n        this.tweens.add({\n          targets: this.comboText,\n          alpha: 0,\n          delay: 800,\n          duration: 300\n        })\n      }\n    })\n  }\n\n  private showNotification(text: string, color: number) {\n    const notification = this.add.text(400, 150, text, {\n      fontSize: '18px',\n      color: '#' + color.toString(16).padStart(6, '0'),\n      fontStyle: 'bold',\n      stroke: '#000000',\n      strokeThickness: 3\n    }).setOrigin(0.5).setDepth(2000)\n    \n    this.tweens.add({\n      targets: notification,\n      y: 120,\n      alpha: 0,\n      duration: 1500,\n      ease: 'Power2',\n      onComplete: () => notification.destroy()\n    })\n  }\n\n  private showAchievement(text: string) {\n    const achievement = this.add.text(400, 200, `üèÜ ${text}`, {\n      fontSize: '20px',\n      color: '#ffd700',\n      fontStyle: 'bold',\n      stroke: '#000000',\n      strokeThickness: 4,\n      backgroundColor: 'rgba(0, 0, 0, 0.7)',\n      padding: { x: 15, y: 10 }\n    }).setOrigin(0.5).setDepth(2001).setScale(0)\n    \n    this.tweens.add({\n      targets: achievement,\n      scale: 1,\n      duration: 300,\n      ease: 'Back.easeOut',\n      onComplete: () => {\n        this.tweens.add({\n          targets: achievement,\n          y: 180,\n          alpha: 0,\n          delay: 2000,\n          duration: 500,\n          onComplete: () => achievement.destroy()\n        })\n      }\n    })\n  }\n\n  private renderLeaderboard() {\n    if (!this.gameState.leaderboard) return\n    \n    let text = 'üèÜ LEADERBOARD\\n'\n    this.gameState.leaderboard.slice(0, 5).forEach((entry, index) => {\n      const isMe = entry.playerId === this.currentPlayer?.id\n      const prefix = isMe ? '‚ñ∫ ' : '  '\n      const medal = index === 0 ? 'ü•á' : index === 1 ? 'ü•à' : index === 2 ? 'ü•â' : `${index + 1}.`\n      const streak = entry.killStreak >= 3 ? ` üî•${entry.killStreak}` : ''\n      text += `${prefix}${medal} ${entry.playerName}: ${entry.score}${streak}\\n`\n    })\n    \n    this.leaderboardText.setText(text)\n  }\n}\n","import { useEffect, useRef, useState } from 'react'\nimport { useParams, useNavigate, useLocation } from 'react-router-dom'\nimport { io, Socket } from 'socket.io-client'\nimport { GameScene } from '../game/GameScene'\nimport * as Phaser from 'phaser'\n\ninterface Player {\n  id: string\n  name: string\n  x: number\n  y: number\n  targetX: number\n  targetY: number\n  energy: number\n  influence: number\n  color: string\n  isAlive: boolean\n  health: number\n  maxHealth: number\n  attackPower: number\n  attackRange: number\n  kills: number\n  deaths: number\n  score: number\n  damageDealt: number\n  nexusesCaptured: number\n  abilityType: string\n  abilityCooldown: number\n  lastAbilityUse: number\n  killStreak: number\n  comboCount: number\n  invincibleUntil: number\n  activePowerUps: unknown[]\n  speed: number\n}\n\ninterface GameState {\n  players: Record<string, Player>\n  nexuses: any[]\n  gamePhase: string\n  phaseStartTime: number\n  gameStartTime: number\n  winner: string | null\n}\n\ninterface GameOverData {\n  winner: Player | null\n  reason: string\n  matchDuration: number\n  finalScores: Array<{\n    id: string\n    name: string\n    score: number\n    influence: number\n    energy: number\n    kills: number\n    deaths: number\n    damageDealt: number\n    nexusesCaptured: number\n  }>\n}\n\nconst ABILITY_INFO: Record<string, { icon: string; name: string }> = {\n  dash: { icon: '‚ö°', name: 'Dash' },\n  heal: { icon: 'üíö', name: 'Heal' },\n  shield: { icon: 'üõ°Ô∏è', name: 'Shield' },\n  scan: { icon: 'üëÅÔ∏è', name: 'Scan' },\n}\n\nconst Game = () => {\n  const { roomId } = useParams<{ roomId: string }>()\n  const navigate = useNavigate()\n  const location = useLocation()\n  const gameRef = useRef<Phaser.Game | null>(null)\n  const socketRef = useRef<Socket | null>(null)\n  const [gameState, setGameState] = useState<GameState | null>(null)\n  const [currentPlayer, setCurrentPlayer] = useState<Player | null>(null)\n  const [gameOverData, setGameOverData] = useState<GameOverData | null>(null)\n  const [timeRemaining, setTimeRemaining] = useState(0)\n  const [showStats, setShowStats] = useState(false)\n\n  useEffect(() => {\n    if (!roomId) {\n      navigate('/')\n      return\n    }\n\n    const existingSocket = location.state?.socket\n    const socket = existingSocket || io(import.meta.env.VITE_SERVER_URL || 'http://localhost:3001')\n    socketRef.current = socket\n\n    if (!existingSocket) {\n      socket.on('connect', () => {\n        const playerName = localStorage.getItem('playerName') || 'Player'\n        socket.emit('join-room', { roomId, playerName })\n      })\n    } else {\n      socket.emit('get-game-state')\n    }\n\n    socket.on('joined-room', (data: { gameState: GameState; player: Player; roomId: string }) => {\n      setGameState(data.gameState)\n      setCurrentPlayer(data.player)\n    })\n\n    socket.on('game-state-update', (newGameState: GameState) => {\n      setGameState(newGameState)\n      // Update current player from new state\n      if (currentPlayer && newGameState.players[currentPlayer.id]) {\n        setCurrentPlayer(newGameState.players[currentPlayer.id])\n      }\n    })\n\n    socket.on('game-event', (event: { type: string; data: GameOverData }) => {\n      if (event.type === 'game-ended') {\n        setGameOverData(event.data)\n      }\n    })\n\n    socket.on('room-full', () => {\n      alert('Room is full!')\n      navigate('/')\n    })\n\n    return () => {\n      if (!existingSocket) {\n        socket.close()\n      }\n    }\n  }, [roomId, navigate])\n\n  useEffect(() => {\n    if (gameState && currentPlayer && !gameRef.current) {\n      const config: Phaser.Types.Core.GameConfig = {\n        type: Phaser.AUTO,\n        width: 800,\n        height: 600,\n        parent: 'game-container',\n        backgroundColor: '#1a1a2e',\n        scene: GameScene,\n        physics: {\n          default: 'arcade',\n          arcade: {\n            gravity: { y: 0, x: 0 },\n            debug: false\n          }\n        }\n      }\n\n      gameRef.current = new Phaser.Game(config)\n      \n      gameRef.current.events.once('ready', () => {\n        const scene = gameRef.current?.scene.getScene('GameScene') as GameScene\n        if (scene && socketRef.current) {\n          scene.initializeGame(socketRef.current, currentPlayer, gameState as any)\n        }\n      })\n    }\n\n    return () => {\n      if (gameRef.current) {\n        gameRef.current.destroy(true)\n        gameRef.current = null\n      }\n    }\n  }, [gameState, currentPlayer])\n\n  useEffect(() => {\n    if (!gameState || gameState.gamePhase === 'waiting' || gameState.gamePhase === 'ended') {\n      return\n    }\n\n    const interval = setInterval(() => {\n      const elapsed = Date.now() - gameState.phaseStartTime\n      \n      let phaseDuration = 0\n      switch (gameState.gamePhase) {\n        case 'spawn': phaseDuration = 10000; break\n        case 'expansion': phaseDuration = 35000; break\n        case 'conflict': phaseDuration = 30000; break\n        case 'pulse': phaseDuration = 15000; break\n      }\n      \n      setTimeRemaining(Math.max(0, phaseDuration - elapsed))\n    }, 100)\n\n    return () => clearInterval(interval)\n  }, [gameState])\n\n  const handleReturnToLobby = () => {\n    navigate('/')\n  }\n\n  const handlePlayAgain = () => {\n    socketRef.current?.emit('restart-game')\n    setGameOverData(null)\n  }\n\n  const formatTime = (ms: number) => {\n    const seconds = Math.ceil(ms / 1000)\n    return `${seconds}s`\n  }\n\n  const formatDuration = (ms: number) => {\n    const minutes = Math.floor(ms / 60000)\n    const seconds = Math.floor((ms % 60000) / 1000)\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`\n  }\n\n  const getPhaseInfo = (phase: string) => {\n    switch (phase) {\n      case 'spawn': return { text: 'Spawn Phase', desc: 'Scout the battlefield!', color: '#3498db' }\n      case 'expansion': return { text: 'Expansion Phase', desc: 'Claim nexuses!', color: '#27ae60' }\n      case 'conflict': return { text: 'Conflict Phase', desc: 'Battle for control!', color: '#e74c3c' }\n      case 'pulse': return { text: 'Pulse Phase', desc: 'Final energy burst!', color: '#f39c12' }\n      case 'ended': return { text: 'Game Over', desc: '', color: '#9b59b6' }\n      default: return { text: 'Waiting...', desc: 'for players', color: '#95a5a6' }\n    }\n  }\n\n  if (!gameState || !currentPlayer) {\n    return (\n      <div className=\"lobby-container\">\n        <div className=\"lobby-card\">\n          <h2>üîÑ Connecting to game...</h2>\n          <p>Room: {roomId}</p>\n        </div>\n      </div>\n    )\n  }\n\n  const phaseInfo = getPhaseInfo(gameState.gamePhase)\n  const ability = ABILITY_INFO[currentPlayer.abilityType] || ABILITY_INFO.dash\n  const abilityCooldown = Math.max(0, (currentPlayer.lastAbilityUse + currentPlayer.abilityCooldown) - Date.now())\n\n  return (\n    <div className=\"game-container\">\n      <div id=\"game-container\" className=\"game-canvas\"></div>\n      \n      <div className=\"ui-overlay\">\n        {/* Player Stats HUD */}\n        <div className=\"hud\" style={{ \n          background: 'rgba(0, 0, 0, 0.8)',\n          borderRadius: '12px',\n          padding: '15px',\n          minWidth: '180px'\n        }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '10px', marginBottom: '10px' }}>\n            <div style={{ \n              width: '30px', \n              height: '30px', \n              backgroundColor: currentPlayer.color,\n              borderRadius: '50%',\n              border: '2px solid white'\n            }} />\n            <div>\n              <h3 style={{ margin: 0, fontSize: '16px' }}>{currentPlayer.name}</h3>\n              <span style={{ fontSize: '12px', opacity: 0.7 }}>{ability.icon} {ability.name}</span>\n            </div>\n          </div>\n          \n          {/* Health Bar */}\n          <div style={{ marginBottom: '8px' }}>\n            <div style={{ display: 'flex', justifyContent: 'space-between', fontSize: '12px', marginBottom: '2px' }}>\n              <span>‚ù§Ô∏è Health</span>\n              <span>{currentPlayer.health}/{currentPlayer.maxHealth}</span>\n            </div>\n            <div style={{ background: '#333', borderRadius: '4px', height: '8px', overflow: 'hidden' }}>\n              <div style={{ \n                background: currentPlayer.health > 50 ? '#27ae60' : currentPlayer.health > 25 ? '#f39c12' : '#e74c3c',\n                height: '100%',\n                width: `${(currentPlayer.health / currentPlayer.maxHealth) * 100}%`,\n                transition: 'width 0.3s'\n              }} />\n            </div>\n          </div>\n\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '8px', fontSize: '14px' }}>\n            <div>‚ö° {currentPlayer.energy}</div>\n            <div>üéØ {currentPlayer.influence}</div>\n            <div>üíÄ {currentPlayer.kills}</div>\n            <div>‚ò†Ô∏è {currentPlayer.deaths}</div>\n          </div>\n          \n          <div style={{ marginTop: '10px', fontSize: '16px', fontWeight: 'bold' }}>\n            Score: {currentPlayer.score}\n          </div>\n\n          {currentPlayer.killStreak >= 3 && (\n            <div style={{ \n              marginTop: '8px', \n              background: 'rgba(231, 76, 60, 0.3)', \n              padding: '5px 10px', \n              borderRadius: '4px',\n              fontSize: '12px',\n              textAlign: 'center'\n            }}>\n              üî• {currentPlayer.killStreak} Kill Streak!\n            </div>\n          )}\n        </div>\n\n        {/* Phase Indicator */}\n        <div className=\"phase-indicator\" style={{\n          background: 'rgba(0, 0, 0, 0.8)',\n          borderRadius: '12px',\n          padding: '15px 25px',\n          textAlign: 'center',\n          borderBottom: `3px solid ${phaseInfo.color}`\n        }}>\n          <h3 style={{ margin: 0, color: phaseInfo.color }}>{phaseInfo.text}</h3>\n          <div style={{ opacity: 0.8, fontSize: '14px' }}>{phaseInfo.desc}</div>\n          {timeRemaining > 0 && (\n            <div style={{ \n              fontSize: '28px', \n              fontWeight: 'bold', \n              marginTop: '5px',\n              fontFamily: 'monospace'\n            }}>\n              {formatTime(timeRemaining)}\n            </div>\n          )}\n        </div>\n\n        {/* Mini Player List */}\n        <div style={{\n          position: 'absolute',\n          top: '10px',\n          right: '10px',\n          background: 'rgba(0, 0, 0, 0.8)',\n          borderRadius: '8px',\n          padding: '10px',\n          maxWidth: '150px'\n        }}>\n          <div style={{ fontSize: '12px', opacity: 0.7, marginBottom: '5px' }}>\n            Players ({Object.keys(gameState.players).length})\n          </div>\n          {Object.values(gameState.players)\n            .sort((a, b) => b.score - a.score)\n            .slice(0, 5)\n            .map((player, idx) => (\n            <div key={player.id} style={{ \n              display: 'flex', \n              alignItems: 'center', \n              gap: '6px',\n              fontSize: '12px',\n              padding: '3px 0',\n              opacity: player.isAlive ? 1 : 0.5\n            }}>\n              <span>{idx === 0 ? 'ü•á' : idx === 1 ? 'ü•à' : idx === 2 ? 'ü•â' : ''}</span>\n              <div style={{ \n                width: '10px', \n                height: '10px', \n                backgroundColor: player.color,\n                borderRadius: '50%'\n              }} />\n              <span style={{ \n                flex: 1, \n                overflow: 'hidden', \n                textOverflow: 'ellipsis',\n                fontWeight: player.id === currentPlayer.id ? 'bold' : 'normal'\n              }}>\n                {player.name}\n              </span>\n              <span style={{ opacity: 0.7 }}>{player.score}</span>\n            </div>\n          ))}\n        </div>\n\n        {/* Controls Help */}\n        <div style={{\n          position: 'absolute',\n          bottom: '10px',\n          right: '10px',\n          background: 'rgba(0, 0, 0, 0.8)',\n          padding: '12px',\n          borderRadius: '8px',\n          fontSize: '11px'\n        }}>\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '4px 15px' }}>\n            <div><kbd>WASD</kbd> Move</div>\n            <div><kbd>E</kbd> Harvest</div>\n            <div><kbd>Space</kbd> Beacon</div>\n            <div><kbd>Q</kbd> Boost</div>\n            <div><kbd>Click</kbd> Attack</div>\n            <div><kbd>R</kbd> {ability.icon} Ability</div>\n          </div>\n          {abilityCooldown > 0 && (\n            <div style={{ marginTop: '8px', opacity: 0.7 }}>\n              Ability: {Math.ceil(abilityCooldown / 1000)}s\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Game Over Modal */}\n      {gameOverData && (\n        <div className=\"game-over-modal\" style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          background: 'rgba(0, 0, 0, 0.9)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          zIndex: 3000\n        }}>\n          <div style={{\n            background: 'linear-gradient(135deg, #1a1a2e, #16213e)',\n            padding: '30px 40px',\n            borderRadius: '16px',\n            maxWidth: '500px',\n            width: '90%',\n            maxHeight: '80vh',\n            overflow: 'auto',\n            border: '2px solid #3498db'\n          }}>\n            <h2 style={{ textAlign: 'center', marginBottom: '5px' }}>üéÆ Game Over!</h2>\n            <p style={{ textAlign: 'center', opacity: 0.7, marginBottom: '20px' }}>\n              Duration: {formatDuration(gameOverData.matchDuration)}\n            </p>\n            \n            {gameOverData.winner ? (\n              <div style={{ textAlign: 'center', marginBottom: '25px' }}>\n                <div style={{\n                  fontSize: '48px',\n                  marginBottom: '10px'\n                }}>üèÜ</div>\n                <h3 style={{ \n                  color: gameOverData.winner.id === currentPlayer.id ? '#f1c40f' : '#fff',\n                  fontSize: '24px',\n                  margin: 0\n                }}>\n                  {gameOverData.winner.name} Wins!\n                </h3>\n                {gameOverData.winner.id === currentPlayer.id && (\n                  <p style={{ color: '#27ae60', marginTop: '5px' }}>üéâ Congratulations!</p>\n                )}\n              </div>\n            ) : (\n              <h3 style={{ textAlign: 'center' }}>Draw!</h3>\n            )}\n\n            <div style={{ marginBottom: '20px' }}>\n              <div style={{ \n                display: 'flex', \n                justifyContent: 'space-between',\n                padding: '8px 12px',\n                background: 'rgba(255,255,255,0.1)',\n                borderRadius: '8px 8px 0 0',\n                fontSize: '12px',\n                fontWeight: 'bold',\n                opacity: 0.7\n              }}>\n                <span style={{ width: '30px' }}>#</span>\n                <span style={{ flex: 1 }}>Player</span>\n                <span style={{ width: '60px', textAlign: 'right' }}>Score</span>\n                <span style={{ width: '50px', textAlign: 'right' }}>K/D</span>\n              </div>\n              {gameOverData.finalScores.map((score, index) => (\n                <div key={score.id} style={{ \n                  display: 'flex',\n                  alignItems: 'center',\n                  padding: '10px 12px',\n                  background: score.id === currentPlayer.id ? 'rgba(52, 152, 219, 0.2)' : 'rgba(255,255,255,0.05)',\n                  borderBottom: '1px solid rgba(255,255,255,0.1)'\n                }}>\n                  <span style={{ width: '30px', fontSize: '16px' }}>\n                    {index === 0 ? 'ü•á' : index === 1 ? 'ü•à' : index === 2 ? 'ü•â' : `${index + 1}.`}\n                  </span>\n                  <span style={{ flex: 1, fontWeight: score.id === currentPlayer.id ? 'bold' : 'normal' }}>\n                    {score.name}\n                  </span>\n                  <span style={{ width: '60px', textAlign: 'right', fontWeight: 'bold' }}>{score.score}</span>\n                  <span style={{ width: '50px', textAlign: 'right', opacity: 0.7 }}>\n                    {score.kills}/{score.deaths}\n                  </span>\n                </div>\n              ))}\n            </div>\n\n            {/* Detailed Stats Toggle */}\n            <button \n              onClick={() => setShowStats(!showStats)}\n              style={{ \n                background: 'transparent', \n                border: 'none', \n                color: '#3498db', \n                cursor: 'pointer',\n                marginBottom: '15px',\n                width: '100%'\n              }}\n            >\n              {showStats ? '‚ñº Hide Details' : '‚ñ∂ Show Detailed Stats'}\n            </button>\n\n            {showStats && (\n              <div style={{ \n                background: 'rgba(0,0,0,0.3)', \n                padding: '15px', \n                borderRadius: '8px',\n                marginBottom: '20px',\n                fontSize: '13px'\n              }}>\n                {gameOverData.finalScores.slice(0, 5).map(score => (\n                  <div key={score.id} style={{ marginBottom: '12px', paddingBottom: '12px', borderBottom: '1px solid rgba(255,255,255,0.1)' }}>\n                    <div style={{ fontWeight: 'bold', marginBottom: '5px' }}>{score.name}</div>\n                    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: '5px', opacity: 0.8 }}>\n                      <div>üéØ Influence: {score.influence}</div>\n                      <div>‚öîÔ∏è Damage: {score.damageDealt}</div>\n                      <div>üè∞ Nexuses: {score.nexusesCaptured}</div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n\n            <div style={{ display: 'flex', gap: '10px' }}>\n              <button \n                className=\"btn\"\n                onClick={handlePlayAgain}\n                style={{ flex: 1, background: 'linear-gradient(135deg, #27ae60, #2ecc71)' }}\n              >\n                üîÑ Play Again\n              </button>\n              <button \n                className=\"btn btn-secondary\" \n                onClick={handleReturnToLobby}\n                style={{ flex: 1 }}\n              >\n                üè† Lobby\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default Game\n","import { Routes, Route } from 'react-router-dom'\nimport Lobby from './pages/Lobby'\nimport Game from './pages/Game'\n\nfunction App() {\n  return (\n    <Routes>\n      <Route path=\"/\" element={<Lobby />} />\n      <Route path=\"/game/:roomId\" element={<Game />} />\n    </Routes>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport { BrowserRouter } from 'react-router-dom'\nimport App from './App.tsx'\nimport './index.css'\n\nReactDOM.createRoot(document.getElementById('root')!).render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n)\n"],"names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","client","ABILITY_INFO","SERVER_URL","Lobby","socket","setSocket","useState","playerName","setPlayerName","roomId","setRoomId","roomState","setRoomState","isConnecting","setIsConnecting","connectionStatus","setConnectionStatus","error","setError","availableRooms","setAvailableRooms","showTutorial","setShowTutorial","serverStats","setServerStats","reconnectAttempts","useRef","maxReconnectAttempts","navigate","useNavigate","fetchServerStats","useCallback","data","useEffect","newSocket","io","fetchAvailableRooms","event","gameState","wasWaiting","isNowStarted","reason","err","attemptNumber","interval","handleCreateRoom","handleJoinRoom","targetRoomId","joinRoomId","handleQuickMatch","bestRoom","r","handleLeaveRoom","copyRoomId","jsxs","jsx","player","ability","room","phaseColor","key","info","GameScene","Phaser.Scene","__publicField","graphics","pointer","abilityBg","abilityText","newGameState","_time","delta","effect","velocityX","velocityY","_a","_b","_c","_d","_e","_f","_g","_h","speed","newX","Phaser.Math","newY","x","y","clickedPlayer","nearbyNexus","players","nearestPlayerId","nearestDistance","distance","now","cooldownRemaining","bg","text","abilityType","angle","type","updatedPlayer","radius","color","Phaser.Display","nexus","container","glow","base","core","energyBg","energyFill","contestBg","contestFill","chargeDots","i","dot","contestedText","index","controllingPlayer","myProgress","playerId","shadow","body","direction","healthBg","healthFill","nameText","killStreakBadge","invincibleRing","healthPercent","isInvincible","powerUp","powerUpId","shape","icon","attacker","target","damageText","victim","killText","shieldPlayer","ring","particle","fromX","fromY","toX","toY","line","impact","beacon","ring1","ring2","nexusId","flash","pulse","trail","cross1","cross2","shield","scan","count","notification","achievement","entry","prefix","medal","streak","Game","useParams","location","useLocation","gameRef","socketRef","setGameState","currentPlayer","setCurrentPlayer","gameOverData","setGameOverData","timeRemaining","setTimeRemaining","showStats","setShowStats","existingSocket","config","Phaser.AUTO","Phaser.Game","scene","elapsed","phaseDuration","handleReturnToLobby","handlePlayAgain","formatTime","ms","formatDuration","minutes","seconds","getPhaseInfo","phase","phaseInfo","abilityCooldown","idx","score","App","Routes","Route","ReactDOM","React","BrowserRouter"],"mappings":"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","x_google_ignoreList":[0,1,2]}